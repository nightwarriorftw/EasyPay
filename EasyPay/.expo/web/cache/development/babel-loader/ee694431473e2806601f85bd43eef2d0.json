{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/nightwarrior-xxx/Documents/Minor/Minor2/EasyPay/EasyPay/screens/authentication/Login.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, Fragment } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport FormInput from \"../../components/FormInput\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\nimport * as api from \"../../api\";\nimport * as Utils from \"../../utils\";\nvar validationSchema = Yup.object().shape({\n  phoneNumber: Yup.string().label(\"Phone\").required().min(11, \"Phone number must be at least 11 numbers\"),\n  password: Yup.string().label(\"Password\").required().min(6, \"Password must be at least 6 characters\")\n});\n\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      passwordVisibility: true,\n      rightIcon: \"ios-eye\"\n    };\n\n    _this.goToForgotPassword = function () {\n      return _this.props.navigation.navigate(\"ForgotPassword\");\n    };\n\n    _this.goToSignup = function () {\n      return _this.props.navigation.navigate(\"Register\");\n    };\n\n    _this.handlePasswordVisibility = function () {\n      _this.setState(function (prevState) {\n        return {\n          rightIcon: prevState.rightIcon === \"ios-eye\" ? \"ios-eye-off\" : \"ios-eye\",\n          passwordVisibility: !prevState.passwordVisibility\n        };\n      });\n    };\n\n    _this.handleOnLogin = function _callee(values, actions) {\n      var phone, password, response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              phone = values.phone, password = values.password;\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(phone, password));\n\n            case 4:\n              response = _context.sent;\n\n              if (response.user) {\n                _this.props.navigation.navigate(\"Bvn\");\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              actions.setFieldError(\"general\", _context.t0.message);\n\n            case 11:\n              _context.prev = 11;\n              actions.setSubmitting(false);\n              return _context.finish(11);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 8, 11, 14]], Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          passwordVisibility = _this$state.passwordVisibility,\n          rightIcon = _this$state.rightIcon;\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }, \"Welcome back\")), React.createElement(Formik, {\n        initialValues: {\n          phoneNumber: \"\",\n          password: \"\"\n        },\n        onSubmit: function onSubmit(values, actions) {\n          _this2.handleOnLogin(values, actions);\n        },\n        validationSchema: validationSchema,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, function (_ref) {\n        var handleChange = _ref.handleChange,\n            values = _ref.values,\n            handleSubmit = _ref.handleSubmit,\n            errors = _ref.errors,\n            isValid = _ref.isValid,\n            touched = _ref.touched,\n            handleBlur = _ref.handleBlur,\n            isSubmitting = _ref.isSubmitting;\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }\n        }, React.createElement(FormInput, {\n          name: \"phoneNumber\",\n          value: values.phoneNumber,\n          onChangeText: handleChange(\"phoneNumber\"),\n          placeholder: \"Enter Phone Number\",\n          autoCapitalize: \"none\",\n          iconName: \"ios-call\",\n          iconColor: \"#9C27B0\",\n          onBlur: handleBlur(\"phoneNumber\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }\n        }), React.createElement(ErrorMessage, {\n          errorValue: touched.phone,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }\n        }), React.createElement(FormInput, {\n          name: \"password\",\n          value: values.password,\n          onChangeText: handleChange(\"password\"),\n          placeholder: \"Enter password\",\n          secureTextEntry: passwordVisibility,\n          iconName: \"ios-lock\",\n          iconColor: \"#9C27B0\",\n          onBlur: handleBlur(\"password\"),\n          rightIcon: React.createElement(TouchableOpacity, {\n            onPress: _this2.handlePasswordVisibility,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }\n          }, React.createElement(Ionicons, {\n            name: rightIcon,\n            size: 28,\n            color: \"#9C27B0\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 21\n            }\n          })),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }\n        }), React.createElement(ErrorMessage, {\n          errorValue: touched.password && errors.password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }\n        }), React.createElement(TouchableOpacity, {\n          onPress: _this2.goToForgotPassword,\n          style: styles.buttonStyle2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: styles.buttonStyle2Text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }\n        }, \"Forgot Password?\")), React.createElement(View, {\n          style: styles.buttonContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: handleSubmit,\n          style: styles.buttonStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: styles.buttonText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 19\n          }\n        }, \" lOGIN\"))), React.createElement(ErrorMessage, {\n          errorValue: errors.general,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }\n        }));\n      }), React.createElement(TouchableOpacity, {\n        onPress: this.goToSignup,\n        style: styles.buttonStyle2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonStyle2Text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }, \"Don't have an account? Sign Up\")));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    paddingTop: 100\n  },\n  imageStyle: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  textStyle: {\n    alignItems: \"center\",\n    width: 342,\n    height: 93,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 27,\n    color: \"#9C27B0\",\n    opacity: 1,\n    left: 30\n  },\n  buttonStyle2Text: {\n    fontWeight: \"bold\"\n  },\n  buttonStyle: {\n    backgroundColor: \"#9C27B0\",\n    shadowOffset: {\n      width: 10,\n      height: 10\n    },\n    shadowColor: \"black\",\n    shadowOpacity: 1.0,\n    borderRadius: 15,\n    opacity: 1,\n    width: 329,\n    height: 58,\n    left: 20\n  },\n  buttonStyle2: {\n    color: \"#9C27B0\",\n    alignItems: \"flex-end\",\n    marginRight: 30\n  },\n  logoContainer: {\n    marginBottom: 15,\n    alignItems: \"center\"\n  },\n  buttonText: {\n    textAlign: \"center\",\n    top: 7,\n    fontSize: 24,\n    color: \"#fffffF\",\n    opacity: 1\n  },\n  buttonContainer: {\n    margin: 25\n  }\n});\nexport default Login;","map":{"version":3,"sources":["/home/nightwarrior-xxx/Documents/Minor/Minor2/EasyPay/EasyPay/screens/authentication/Login.js"],"names":["React","Component","Fragment","Ionicons","Formik","Yup","FormInput","ErrorMessage","api","Utils","validationSchema","object","shape","phoneNumber","string","label","required","min","password","Login","state","passwordVisibility","rightIcon","goToForgotPassword","props","navigation","navigate","goToSignup","handlePasswordVisibility","setState","prevState","handleOnLogin","values","actions","phone","firebase","auth","signInWithEmailAndPassword","response","user","setFieldError","message","setSubmitting","styles","container","textStyle","handleChange","handleSubmit","errors","isValid","touched","handleBlur","isSubmitting","buttonStyle2","buttonStyle2Text","buttonContainer","buttonStyle","buttonText","general","StyleSheet","create","flex","backgroundColor","paddingTop","imageStyle","alignItems","marginTop","width","height","textAlign","fontWeight","fontSize","color","opacity","left","shadowOffset","shadowColor","shadowOpacity","borderRadius","marginRight","logoContainer","marginBottom","top","margin"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport {\n  StyleSheet,\n  SafeAreaView,\n  View,\n  TouchableOpacity,\n  Image,\n  Text,\n} from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport FormInput from \"../../components/FormInput\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\nimport * as api from \"../../api\";\nimport * as Utils from \"../../utils\";\n\n//form validation with yup\nconst validationSchema = Yup.object().shape({\n  phoneNumber: Yup.string()\n    .label(\"Phone\")\n    .required()\n    .min(11, \"Phone number must be at least 11 numbers\"),\n  password: Yup.string()\n    .label(\"Password\")\n    .required()\n    .min(6, \"Password must be at least 6 characters\"),\n});\n\nclass Login extends Component {\n  state = {\n    passwordVisibility: true,\n    rightIcon: \"ios-eye\",\n  };\n\n  //forgot password route\n  goToForgotPassword = () => this.props.navigation.navigate(\"ForgotPassword\");\n\n  //signup route\n  goToSignup = () => this.props.navigation.navigate(\"Register\");\n\n  handlePasswordVisibility = () => {\n    this.setState((prevState) => ({\n      rightIcon: prevState.rightIcon === \"ios-eye\" ? \"ios-eye-off\" : \"ios-eye\",\n      passwordVisibility: !prevState.passwordVisibility,\n    }));\n  };\n\n  // handleOnLogin = () => this.props.navigation.navigate('App');\n  handleOnLogin = async (values, actions) => {\n    const { phone, password } = values;\n    try {\n      // const response = await api.login({ phone, password });\n      // await Utils.setStorageData(response);\n\n      const response = await firebase\n        .auth()\n        .signInWithEmailAndPassword(phone, password);\n      if (response.user) {\n        this.props.navigation.navigate(\"Bvn\");\n      }\n    } catch (error) {\n      actions.setFieldError(\"general\", error.message);\n    } finally {\n      actions.setSubmitting(false);\n    }\n  };\n\n  render() {\n    const { passwordVisibility, rightIcon } = this.state;\n    return (\n      <SafeAreaView style={styles.container}>\n        <View>\n          <Text style={styles.textStyle}>Welcome back</Text>\n        </View>\n        <Formik\n          initialValues={{ phoneNumber: \"\", password: \"\" }}\n          onSubmit={(values, actions) => {\n            this.handleOnLogin(values, actions);\n          }}\n          validationSchema={validationSchema}\n        >\n          {({\n            handleChange,\n            values,\n            handleSubmit,\n            errors,\n            isValid,\n            touched,\n            handleBlur,\n            isSubmitting,\n          }) => (\n            <Fragment>\n              <FormInput\n                name=\"phoneNumber\"\n                value={values.phoneNumber}\n                onChangeText={handleChange(\"phoneNumber\")}\n                placeholder=\"Enter Phone Number\"\n                autoCapitalize=\"none\"\n                iconName=\"ios-call\"\n                iconColor=\"#9C27B0\"\n                onBlur={handleBlur(\"phoneNumber\")}\n              />\n              <ErrorMessage errorValue={touched.phone} />\n              <FormInput\n                name=\"password\"\n                value={values.password}\n                onChangeText={handleChange(\"password\")}\n                placeholder=\"Enter password\"\n                secureTextEntry={passwordVisibility}\n                iconName=\"ios-lock\"\n                iconColor=\"#9C27B0\"\n                onBlur={handleBlur(\"password\")}\n                rightIcon={\n                  <TouchableOpacity onPress={this.handlePasswordVisibility}>\n                    <Ionicons name={rightIcon} size={28} color=\"#9C27B0\" />\n                  </TouchableOpacity>\n                }\n              />\n              <ErrorMessage errorValue={touched.password && errors.password} />\n              <TouchableOpacity\n                onPress={this.goToForgotPassword}\n                style={styles.buttonStyle2}\n              >\n                <Text style={styles.buttonStyle2Text}>Forgot Password?</Text>\n              </TouchableOpacity>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity\n                  onPress={handleSubmit}\n                  style={styles.buttonStyle}\n                >\n                  <Text style={styles.buttonText}> lOGIN</Text>\n                </TouchableOpacity>\n              </View>\n              <ErrorMessage errorValue={errors.general} />\n            </Fragment>\n          )}\n        </Formik>\n        <TouchableOpacity onPress={this.goToSignup} style={styles.buttonStyle2}>\n          <Text style={styles.buttonStyle2Text}>\n            Don't have an account? Sign Up\n          </Text>\n        </TouchableOpacity>\n      </SafeAreaView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    paddingTop: 100,\n  },\n  imageStyle: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 20,\n  },\n  textStyle: {\n    alignItems: \"center\",\n    width: 342,\n    height: 93,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 27,\n    color: \"#9C27B0\",\n    opacity: 1,\n    left: 30,\n  },\n  buttonStyle2Text: {\n    fontWeight: \"bold\",\n  },\n  buttonStyle: {\n    backgroundColor: \"#9C27B0\",\n    shadowOffset: { width: 10, height: 10 },\n    shadowColor: \"black\",\n    shadowOpacity: 1.0,\n    borderRadius: 15,\n    opacity: 1,\n    width: 329,\n    height: 58,\n    left: 20,\n  },\n  buttonStyle2: {\n    color: \"#9C27B0\",\n    alignItems: \"flex-end\",\n    marginRight: 30,\n  },\n  logoContainer: {\n    marginBottom: 15,\n    alignItems: \"center\",\n  },\n  buttonText: {\n    textAlign: \"center\",\n    top: 7,\n    fontSize: 24,\n    color: \"#fffffF\",\n    opacity: 1,\n  },\n  buttonContainer: {\n    margin: 25,\n  },\n});\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}