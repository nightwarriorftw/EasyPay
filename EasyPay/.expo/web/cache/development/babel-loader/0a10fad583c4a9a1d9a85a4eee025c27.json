{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/nightwarrior-xxx/Documents/Minor/Minor2/EasyPay/EasyPay/screens/authentication/Register.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, Fragment } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport FormInput from \"../../components/FormInput\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\nimport * as api from \"../../api\";\nimport * as Utils from \"../../utils\";\nvar validationSchema = Yup.object().shape({\n  phoneNumber: Yup.number().label(\"Phone\").required().positive().integer().min(11, \"Phone number must be at least 11 numbers\"),\n  password: Yup.string().label(\"Password\").required().min(6, \"Password must be at least 6 characters\")\n});\n\nvar Register = function (_Component) {\n  _inherits(Register, _Component);\n\n  var _super = _createSuper(Register);\n\n  function Register() {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      passwordVisibility: true,\n      rightIcon: \"ios-eye\"\n    };\n\n    _this.goToForgotPassword = function () {\n      return _this.props.navigation.navigate(\"ForgotPassword\");\n    };\n\n    _this.goToLogin = function () {\n      return _this.props.navigation.navigate(\"Login\");\n    };\n\n    _this.handlePasswordVisibility = function () {\n      _this.setState(function (prevState) {\n        return {\n          rightIcon: prevState.rightIcon === \"ios-eye\" ? \"ios-eye-off\" : \"ios-eye\",\n          passwordVisibility: !prevState.passwordVisibility\n        };\n      });\n    };\n\n    _this.handleOnRegister = function _callee(values, actions) {\n      var phoneNumber, password, response, uid, userData;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              phoneNumber = values.phoneNumber, password = values.password;\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(phoneNumber, password));\n\n            case 4:\n              response = _context.sent;\n\n              if (!response.user.uid) {\n                _context.next = 11;\n                break;\n              }\n\n              uid = response.user.uid;\n              userData = {\n                email: email,\n                name: name,\n                uid: uid\n              };\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection(\"users\").doc(\"\" + userData.uid).set(userData));\n\n            case 10:\n              _this.props.navigation.navigate(\"BVN\");\n\n            case 11:\n              _context.next = 17;\n              break;\n\n            case 13:\n              _context.prev = 13;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              actions.setFieldError(\"general\", _context.t0.message);\n\n            case 17:\n              _context.prev = 17;\n              actions.setSubmitting(false);\n              return _context.finish(17);\n\n            case 20:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 13, 17, 20]], Promise);\n    };\n\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          passwordVisibility = _this$state.passwordVisibility,\n          rightIcon = _this$state.rightIcon;\n      return React.createElement(SafeAreaView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }, \"Oya Send\")), React.createElement(Formik, {\n        initialValues: {\n          phoneNumber: \"\",\n          password: \"\"\n        },\n        onSubmit: function onSubmit(values, actions) {\n          _this2.handleOnRegister(values, actions);\n        },\n        validationSchema: validationSchema,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }, function (_ref) {\n        var handleChange = _ref.handleChange,\n            values = _ref.values,\n            handleSubmit = _ref.handleSubmit,\n            errors = _ref.errors,\n            isValid = _ref.isValid,\n            touched = _ref.touched,\n            handleBlur = _ref.handleBlur,\n            isSubmitting = _ref.isSubmitting;\n        return React.createElement(Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }\n        }, React.createElement(FormInput, {\n          name: \"phoneNumber\",\n          value: values.phoneNumber,\n          onChangeText: handleChange(\"phoneNumber\"),\n          placeholder: \"Enter Phone Number\",\n          autoCapitalize: \"none\",\n          iconName: \"ios-call\",\n          iconColor: \"#9C27B0\",\n          onBlur: handleBlur(\"phoneNumber\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }\n        }), React.createElement(ErrorMessage, {\n          errorValue: touched.phone && errors.phone,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }\n        }), React.createElement(FormInput, {\n          name: \"password\",\n          value: values.password,\n          onChangeText: handleChange(\"password\"),\n          placeholder: \"Enter password\",\n          secureTextEntry: passwordVisibility,\n          iconName: \"ios-lock\",\n          iconColor: \"#9C27B0\",\n          onBlur: handleBlur(\"password\"),\n          rightIcon: React.createElement(TouchableOpacity, {\n            onPress: _this2.handlePasswordVisibility,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }\n          }, React.createElement(Ionicons, {\n            name: rightIcon,\n            size: 28,\n            color: \"#9C27B0\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 21\n            }\n          })),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }\n        }), React.createElement(ErrorMessage, {\n          errorValue: touched.password && errors.password,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }\n        }), React.createElement(TouchableOpacity, {\n          onPress: _this2.goToLogin,\n          style: styles.buttonStyle2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: styles.buttonStyle2Text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }\n        }, \"Already have an Account? Login\")), React.createElement(View, {\n          style: styles.buttonContainer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: handleSubmit,\n          style: styles.buttonStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: styles.buttonText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 19\n          }\n        }, \"Continue\"))), React.createElement(ErrorMessage, {\n          errorValue: errors.general,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }\n        }));\n      }));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    paddingTop: 100\n  },\n  imageStyle: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 20\n  },\n  textStyle: {\n    alignItems: \"center\",\n    width: 342,\n    height: 93,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 27,\n    color: \"#9C27B0\",\n    opacity: 1,\n    left: 30\n  },\n  buttonStyle2Text: {\n    fontWeight: \"bold\"\n  },\n  buttonStyle: {\n    backgroundColor: \"#9C27B0\",\n    shadowOffset: {\n      width: 10,\n      height: 10\n    },\n    shadowColor: \"black\",\n    shadowOpacity: 1.0,\n    borderRadius: 15,\n    opacity: 1,\n    width: 329,\n    height: 58,\n    left: 20\n  },\n  buttonStyle2: {\n    color: \"#9C27B0\",\n    alignItems: \"flex-end\",\n    marginRight: 30\n  },\n  logoContainer: {\n    marginBottom: 15,\n    alignItems: \"center\"\n  },\n  buttonText: {\n    textAlign: \"center\",\n    top: 7,\n    fontSize: 24,\n    color: \"#fffffF\",\n    opacity: 1\n  },\n  buttonContainer: {\n    margin: 25\n  }\n});\nexport default Register;","map":{"version":3,"sources":["/home/nightwarrior-xxx/Documents/Minor/Minor2/EasyPay/EasyPay/screens/authentication/Register.js"],"names":["React","Component","Fragment","Ionicons","Formik","Yup","FormInput","ErrorMessage","api","Utils","validationSchema","object","shape","phoneNumber","number","label","required","positive","integer","min","password","string","Register","state","passwordVisibility","rightIcon","goToForgotPassword","props","navigation","navigate","goToLogin","handlePasswordVisibility","setState","prevState","handleOnRegister","values","actions","firebase","auth","createUserWithEmailAndPassword","response","user","uid","userData","email","name","firestore","collection","doc","set","console","log","setFieldError","message","setSubmitting","styles","container","textStyle","handleChange","handleSubmit","errors","isValid","touched","handleBlur","isSubmitting","phone","buttonStyle2","buttonStyle2Text","buttonContainer","buttonStyle","buttonText","general","StyleSheet","create","flex","backgroundColor","paddingTop","imageStyle","alignItems","marginTop","width","height","textAlign","fontWeight","fontSize","color","opacity","left","shadowOffset","shadowColor","shadowOpacity","borderRadius","marginRight","logoContainer","marginBottom","top","margin"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport {\n  StyleSheet,\n  SafeAreaView,\n  View,\n  TouchableOpacity,\n  Image,\n  Text,\n} from \"react-native\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { Formik } from \"formik\";\nimport * as Yup from \"yup\";\nimport FormInput from \"../../components/FormInput\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\nimport * as api from \"../../api\";\nimport * as Utils from \"../../utils\";\n\n//form validation with yup\nconst validationSchema = Yup.object().shape({\n  phoneNumber: Yup.number()\n    .label(\"Phone\")\n    .required()\n    .positive()\n    .integer()\n    .min(11, \"Phone number must be at least 11 numbers\"),\n  password: Yup.string()\n    .label(\"Password\")\n    .required()\n    .min(6, \"Password must be at least 6 characters\"),\n});\n\nclass Register extends Component {\n  state = {\n    passwordVisibility: true,\n    rightIcon: \"ios-eye\",\n  };\n\n  //forgot password route\n  goToForgotPassword = () => this.props.navigation.navigate(\"ForgotPassword\");\n\n  //Login route\n  goToLogin = () => this.props.navigation.navigate(\"Login\");\n\n  handlePasswordVisibility = () => {\n    this.setState((prevState) => ({\n      rightIcon: prevState.rightIcon === \"ios-eye\" ? \"ios-eye-off\" : \"ios-eye\",\n      passwordVisibility: !prevState.passwordVisibility,\n    }));\n  };\n\n  handleOnRegister = async (values, actions) => {\n    const { phoneNumber, password } = values;\n    try {\n      // const response = await api.register({ phone: phoneNumber, password });\n      // await Utils.setStorageData(response);\n      const response = await firebase\n        .auth()\n        .createUserWithEmailAndPassword(phoneNumber, password);\n\n      if (response.user.uid) {\n        const { uid } = response.user;\n        const userData = { email, name, uid };\n        await firebase\n          .firestore()\n          .collection(\"users\")\n          .doc(`${userData.uid}`)\n          .set(userData);\n        this.props.navigation.navigate(\"BVN\");\n      }\n      // if (response.user) {\n      //      }\n    } catch (error) {\n      console.log(error);\n      actions.setFieldError(\"general\", error.message);\n    } finally {\n      actions.setSubmitting(false);\n    }\n  };\n\n  render() {\n    const { passwordVisibility, rightIcon } = this.state;\n    return (\n      <SafeAreaView style={styles.container}>\n        <View>\n          <Text style={styles.textStyle}>Oya Send</Text>\n        </View>\n        <Formik\n          initialValues={{ phoneNumber: \"\", password: \"\" }}\n          onSubmit={(values, actions) => {\n            this.handleOnRegister(values, actions);\n          }}\n          validationSchema={validationSchema}\n        >\n          {({\n            handleChange,\n            values,\n            handleSubmit,\n            errors,\n            isValid,\n            touched,\n            handleBlur,\n            isSubmitting,\n          }) => (\n            <Fragment>\n              <FormInput\n                name=\"phoneNumber\"\n                value={values.phoneNumber}\n                onChangeText={handleChange(\"phoneNumber\")}\n                placeholder=\"Enter Phone Number\"\n                autoCapitalize=\"none\"\n                iconName=\"ios-call\"\n                iconColor=\"#9C27B0\"\n                onBlur={handleBlur(\"phoneNumber\")}\n              />\n              <ErrorMessage errorValue={touched.phone && errors.phone} />\n              <FormInput\n                name=\"password\"\n                value={values.password}\n                onChangeText={handleChange(\"password\")}\n                placeholder=\"Enter password\"\n                secureTextEntry={passwordVisibility}\n                iconName=\"ios-lock\"\n                iconColor=\"#9C27B0\"\n                onBlur={handleBlur(\"password\")}\n                rightIcon={\n                  <TouchableOpacity onPress={this.handlePasswordVisibility}>\n                    <Ionicons name={rightIcon} size={28} color=\"#9C27B0\" />\n                  </TouchableOpacity>\n                }\n              />\n              <ErrorMessage errorValue={touched.password && errors.password} />\n              <TouchableOpacity\n                onPress={this.goToLogin}\n                style={styles.buttonStyle2}\n              >\n                <Text style={styles.buttonStyle2Text}>\n                  Already have an Account? Login\n                </Text>\n              </TouchableOpacity>\n              <View style={styles.buttonContainer}>\n                <TouchableOpacity\n                  onPress={handleSubmit}\n                  style={styles.buttonStyle}\n                >\n                  <Text style={styles.buttonText}>Continue</Text>\n                </TouchableOpacity>\n              </View>\n              <ErrorMessage errorValue={errors.general} />\n            </Fragment>\n          )}\n        </Formik>\n      </SafeAreaView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    paddingTop: 100,\n  },\n  imageStyle: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 20,\n  },\n  textStyle: {\n    alignItems: \"center\",\n    width: 342,\n    height: 93,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    fontSize: 27,\n    color: \"#9C27B0\",\n    opacity: 1,\n    left: 30,\n  },\n  buttonStyle2Text: {\n    fontWeight: \"bold\",\n  },\n  buttonStyle: {\n    backgroundColor: \"#9C27B0\",\n    shadowOffset: { width: 10, height: 10 },\n    shadowColor: \"black\",\n    shadowOpacity: 1.0,\n    borderRadius: 15,\n    opacity: 1,\n    width: 329,\n    height: 58,\n    left: 20,\n  },\n  buttonStyle2: {\n    color: \"#9C27B0\",\n    alignItems: \"flex-end\",\n    marginRight: 30,\n  },\n  logoContainer: {\n    marginBottom: 15,\n    alignItems: \"center\",\n  },\n  buttonText: {\n    textAlign: \"center\",\n    top: 7,\n    fontSize: 24,\n    color: \"#fffffF\",\n    opacity: 1,\n  },\n  buttonContainer: {\n    margin: 25,\n  },\n});\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}